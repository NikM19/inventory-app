/* ====== Палитра Artkivi ====== */
:root {
    --ak-black: #393939;
    --ak-gray: #ebebeb;
    --ak-darkgray: #7a7a7a;
    --ak-orange: #e89a41;
    --ak-green: #60b6b2;
    --ak-white: #fff;
    --ak-red: #cb4642;
}

/* ====== Общий фон и шапка ====== */
body {
    background: var(--ak-gray);
    color: var(--ak-black);
}

.navbar, .navbar-dark {
    background: var(--ak-black) !important;
}
.navbar-brand img {
    height: 36px;
    margin-right: 8px;
}
.navbar-brand,
.navbar-text,
.navbar .btn,
.navbar .btn-outline-light {
    color: var(--ak-white) !important;
}

.navbar .btn-outline-light {
    border-color: var(--ak-white);
    border-radius: 20px !important;
    padding: 3px 18px;
    font-weight: 500;
    transition: border-color .2s, color .2s;
}

.navbar .btn-outline-light:hover,
.navbar .btn-outline-light:focus {
    color: var(--ak-black) !important;
    background: var(--ak-white) !important;
    border-color: var(--ak-white);
}

/* ====== Главный контейнер ====== */
.container, .main-card {
    background: var(--ak-white);
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(57,57,57,0.07);
    padding: 30px 18px 22px 18px;
    margin-bottom: 32px;
}

h2, h3, h5 {
    color: var(--ak-black);
    font-weight: 700;
    letter-spacing: 0.01em;
}

/* ====== Кнопки ====== */
.btn,
button {
    border-radius: 25px !important;
    font-weight: 500;
    letter-spacing: 0.01em;
    transition: background 0.15s, color 0.15s;
}

.artkivi-btn, .btn-success, .btn-primary {
    background: var(--ak-orange) !important;
    color: var(--ak-white) !important;
    border: none !important;
    border-radius: 25px !important;
    font-weight: 600;
    padding: 8px 22px;
    margin-right: 6px;
    box-shadow: 0 2px 8px rgba(246, 160, 70, 0.06);
}

.artkivi-btn:hover, .btn-success:hover, .btn-primary:hover,
.artkivi-btn:focus, .btn-success:focus, .btn-primary:focus {
    background: #ffb35c !important;
    color: var(--ak-white) !important;
}

.btn-danger {
    background: var(--ak-red) !important;
    color: var(--ak-white) !important;
    border: none !important;
    border-radius: 25px !important;
}

.btn-warning {
    background: var(--ak-darkgray) !important;
    color: var(--ak-white) !important;
    border: none !important;
    border-radius: 25px !important;
}

/* Brand override for outline-primary (orange) */
.btn-outline-primary{
  color: var(--ak-orange) !important;
  border: 1.5px solid var(--ak-orange) !important;
  background: transparent !important;
  border-radius: 25px !important;
  font-weight: 600;
  transition: background .18s, color .18s, box-shadow .18s, border-color .18s;
}
.btn-outline-primary:hover,
.btn-outline-primary:focus{
  background: var(--ak-orange) !important;
  color: #fff !important;
  border-color: var(--ak-orange) !important;
  box-shadow: 0 6px 14px rgba(232,154,65,.28);
}
.btn-outline-primary:active{ transform: translateY(1px); }
/* Иконка-лупа внутри outline-кнопки поиска */
.btn-outline-primary .icon-left{
  width: 1.05em;
  height: 1.05em;
  margin-right: 6px;
  vertical-align: -0.15em;
  margin-top: -1px;
}
.btn-outline-primary .icon-left,
.btn-outline-primary .icon-left *{
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* удобный фокус с клавы */
.btn-outline-primary:focus-visible{
  outline: 2px solid rgba(232,154,65,.6);
  outline-offset: 2px;
}
/* ====== Таблицы ====== */
.table {
    border-radius: 8px;
    overflow: hidden;
    background: var(--ak-white);
    color: var(--ak-black);
    font-size: 1rem;
    box-shadow: 0 2px 6px rgba(57,57,57,0.03);
}
.table th {
    background: var(--ak-black);
    color: var(--ak-white);
    border-color: var(--ak-black);
    font-weight: 700;
    font-size: 1rem;
}
.table td {
    vertical-align: middle;
    border-color: var(--ak-darkgray);
}

.table a {
    color: var(--ak-black);
    font-weight: 600;
}

.table a:hover {
    color: var(--ak-orange);
}

.list-group-item {
    border-radius: 7px !important;
    margin-bottom: 4px;
    background: #f9f9f9;
}

/* ====== Формы ====== */
.form-control,
select,
textarea {
    border-radius: 8px;
    border: 1px solid var(--ak-darkgray);
}

/* ===== iOS-тумблер (минимально) ===== */
.ios-switch {
  position: relative;
  display: inline-block;
  width: 52px;
  height: 30px;
  vertical-align: middle;
}
.ios-switch input { display: none; }

.ios-slider {
  position: absolute;
  inset: 0;
  background: #d1d1d6;           /* OFF фон */
  border-radius: 999px;
  transition: background .2s ease;
}
.ios-slider::before {
  content: "";
  position: absolute;
  left: 2px; top: 2px;
  width: 26px; height: 26px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0,0,0,.2);
  transition: transform .2s ease;
}

/* ON — фирменный оранжевый */
.ios-switch input:checked + .ios-slider {
  background: var(--ak-orange);
}
.ios-switch input:checked + .ios-slider::before {
  transform: translateX(22px);
}

/* обёртка тумблера с подписью */
.switch-row{
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;         /* можно переносить на новую строку при узкой ширине */
  margin-top: 10px;        /* базовый «воздух» под полем Nimi… */
}

/* чуть больше воздуха на средних десктопах (у тебя там было «слипание») */
@media (min-width: 992px) and (max-width: 1200px){
  .switch-row{ margin-top: 14px; }
}
.switch-label { margin: 0; user-select: none; }

/* ====== Карточки (статистика, добавленные товары) ====== */
ul.list-group {
    background: transparent;
    padding: 0;
}
.list-group-item {
    background: #faf7f2;
    color: var(--ak-black);
    border: none;
    font-size: 1rem;
}

/* ====== Flash-сообщения ====== */
.alert {
    border-radius: 9px;
    border: none;
    font-size: 1rem;
}

/* ====== Мобильная адаптация ====== */
@media (max-width: 768px) {
    .container {
        padding: 10px 0 12px 0;
        border-radius: 0;
        margin-bottom: 14px;
    }
    @media (max-width: 768px) {
  /* …то, что выше уже есть… */

  /* Мобильная карточка статистики – скругляем и даём воздух */
  .main-card{
    border-radius: 18px !important;
    margin: 12px 10px 18px;
    padding: 16px 14px 14px;
    overflow: hidden;                       /* чтобы тень и фон выглядели ровно */
    box-shadow: 0 8px 20px rgba(0,0,0,.08); /* мягкая тень */
  }

  /* опционально — сами элементы списка чуть мягче */
  .main-card .list-group-item{
    border-radius: 12px !important;
    background: #fbf7ef;                    /* лёгкий «ванильный» фон, можно убрать */
  }
}
    .navbar-brand img {
        height: 28px;
    }
    h2, h3, h5 {
        font-size: 1.15em;
    }
    .btn, button, .artkivi-btn {
        font-size: 0.96em !important;
        padding: 12px 0 !important;
        margin-bottom: 7px !important;
        display: block;
        width: 100%;
        border-radius: 22px !important;
    }
    .table {
        font-size: 0.97em;
    }
    .table thead {
        display: none;
    }
    .table, .table tbody, .table tr, .table td {
        display: block;
        width: 100%;
    }
    .table tr {
        margin-bottom: 16px;
        box-shadow: 0 1px 4px #d9d9d9;
        border-radius: 7px;
        background: var(--ak-white);
    }
    .table td {
        text-align: left;
        border: none;
        padding: 5px 9px;
        position: relative;
    }
    .table td::before {
        content: attr(data-label);
        font-weight: 700;
        color: var(--ak-darkgray);
        display: block;
        margin-bottom: 2px;
        font-size: 0.95em;
    }
}

/* ===== Только для десктопа: скрывать mobile меню и blur overlay ===== */
@media (min-width: 992px) {
    .mobile-slide-menu,
    .blur-overlay,
    .mobile-menu {
        display: none !important;
    }
    .desktop-menu {
        display: flex !important;
    }
    /* ====== ЯЗЫКОВОЙ ДРОПДАУН (desktop) ====== */
    .language-dropdown-menu {
        right: 0 !important;
        left: auto !important;
        max-width: 180px;
        min-width: 140px;
        word-break: break-word;
    }
}

/* ====== Управление видимостью меню для мобильных/десктопа ====== */
.desktop-menu {
    display: flex !important;
}
.mobile-menu {
    display: none !important;
}
@media (max-width: 991.98px) {
    .desktop-menu {
        display: none !important;
    }
    .mobile-menu {
        display: flex !important;
        align-items: center;
        margin-left: auto;
    }
    .mobile-slide-menu {
        display: block;
    }
}

/* ====== Мобильное бургер-меню (карточка) ====== */
.hamburger {
    width: 32px;
    height: 24px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    cursor: pointer;
    background: transparent;
    border: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
}
.hamburger span {
    display: block;
    height: 4px;
    border-radius: 2px;
    background: var(--ak-orange);
    transition: .32s cubic-bezier(.38,.4,.26,1.01);
    box-shadow: 0 0.5px 2px #0002;
    position: relative;
}
.hamburger.active span:nth-child(1) { transform: translateX(-10px) scaleX(0.7); opacity: 0; }
.hamburger.active span:nth-child(2) { transform: scaleX(1.22); }
.hamburger.active span:nth-child(3) { transform: translateX(10px) scaleX(0.7); opacity: 0; }
.hamburger:not(.active) span { transform: none; opacity: 1; }

.navbar-toggler { box-shadow: none !important; border: none !important; background: transparent !important; }
.navbar-toggler:focus { box-shadow: none !important; outline: none !important; }

.blur-overlay {
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background: rgba(40, 44, 52, 0.26);
    z-index: 1201;
    display: none;
    transition: opacity 0.23s;
    backdrop-filter: blur(14px) saturate(1.2); /* Сильный blur! */
    -webkit-backdrop-filter: blur(14px) saturate(1.2); /* Для iOS/Safari */
}
.blur-overlay.show { display: block; opacity: 1; }

.mobile-slide-menu {
    position: fixed;
    left: 50%;
    top: 20%;
    transform: translate(-50%, -50%) scale(0.96); /* Центрируем */
    width: 96vw;
    max-width: 390px;
    min-width: 220px;
    background: var(--ak-black);
    border-radius: 24px;
    box-shadow: 0 14px 38px 0 rgba(0,0,0,0.23);
    z-index: 1202;
    opacity: 0;
    pointer-events: none;
    padding: 20px 18px 18px 18px;
    color: var(--ak-white);
    transition: opacity .28s, transform .24s;
    max-height: 90vh;
    overflow-y: auto;
}

.mobile-slide-menu.open {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1); /* Центр + scale-аним. */
    pointer-events: auto;
}
/* Landscape: чуть меньше высота и больше ширина */
@media (max-width: 991.98px) and (orientation: landscape) {
  .mobile-slide-menu {
    top: 40%;
    width: 80vw;
    max-width: 420px;
    padding: 12px 8px 12px 8px;
    max-height: 88vh;
  }
}
.mobile-slide-menu .btn,
.mobile-slide-menu button,
.mobile-slide-menu a.btn {
    border-radius: 15px !important;
    margin-bottom: 9px;
    font-size: 1.08em !important;
    font-weight: 500;
    padding: 11px 0 !important;
    box-shadow: none;
    border: none !important;
    background: #ececec !important;
    color: #222 !important;
    transition: background .16s, color .13s;
}
.mobile-slide-menu .btn-outline-dark {
    background: var(--ak-white) !important;
    border: 1.3px solid #c5c5c5 !important;
    color: #222 !important;
}
.mobile-slide-menu .btn-outline-dark:hover,
.mobile-slide-menu .btn-outline-dark:focus {
    background: var(--ak-orange) !important;
    color: var(--ak-white) !important;
    border-color: var(--ak-orange) !important;
}
.mobile-slide-menu .dropdown-menu {
    border-radius: 16px;
    box-shadow: 0 2px 12px rgba(57,57,57,0.13);
    margin-top: 4px;
}
.mobile-slide-menu .badge {
    border-radius: 7px;
    font-size: 0.99em;
    margin-left: 6px;
    font-weight: 600;
    background: #f4f4f4;
    color: #565656;
}
.mobile-slide-menu .badge.bg-dark {
    background: #333 !important;
    color: #fff !important;
}
.mobile-slide-menu .badge.bg-secondary {
    background: #a1a1a1 !important;
    color: #fff !important;
}
/* Убрать прокрутку у карточки (iOS эффект) */
.mobile-slide-menu::-webkit-scrollbar { display: none; }
.mobile-slide-menu { scrollbar-width: none; }
/* ===== Slide-down flash alert ===== */
.flash-slide-panel {
  position: fixed;
  top: 60px;
  left: 0; right: 0;
  z-index: 3001;
  display: flex;
  flex-direction: column;
  align-items: center;
  pointer-events: none;
}

.flash-slide {
  position: relative;
  min-width: 320px;
  max-width: 540px;
  width: auto;
  margin-bottom: 8px;
  background: #222;
  color: #fff;
  border-radius: 18px !important;
  box-shadow: 0 4px 22px rgba(0,0,0,0.14);
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
  transition: opacity 0.38s, transform 0.42s;
  padding: 15px 44px 15px 24px;
  font-size: 1.08em;
}

.flash-slide.hide {
  opacity: 0;
  transform: translateY(-110%);
  pointer-events: none;
}

.flash-slide .btn-close {
  position: absolute;
  top: 12px; right: 18px;
  opacity: 0.73;
  z-index: 2;
}
@media (max-width: 600px) {
  .flash-slide, .flash-slide .alert {
    min-width: 90vw;
    max-width: 98vw;
    border-radius: 18px !important;
    font-size: 0.99em;
    padding-left: 18px;
    padding-right: 40px;
  }
}
/* ===== Цветные flash-уведомления (с прозрачностью, фирменно) ===== */

/* Flash цвет: успех (зелёный, немного прозрачный) */
.flash-slide-success {
  background: rgba(36, 162, 100, 0.60) !important; /* Зеленый */
  color: #fff !important;
  backdrop-filter: blur(4px);
}

/* Flash цвет: ошибка (красный, немного прозрачный) */
.flash-slide-danger, .flash-slide-error {
  background: rgba(203, 70, 66, 0.60) !important; /* Красный */
  color: #fff !important;
  backdrop-filter: blur(4px);
}

/* Flash цвет: предупреждение (оранжевый, немного прозрачный) */
.flash-slide-warning {
  background: rgba(232, 154, 65, 0.60) !important; /* Оранжевый */
  color: #fff !important;
  backdrop-filter: blur(4px);
}

/* Flash цвет: информационный (бирюзовый, немного прозрачный) */
.flash-slide-info {
  background: rgba(96, 182, 178, 0.60) !important; /* Бирюзовый */
  color: #fff !important;
  backdrop-filter: blur(4px);
}
/* ===== Кнопка редактирования категории рядом с select ===== */
.category-edit-btn {
  border: none !important;
  background: transparent !important;
  padding: 2px 4px !important;
  box-shadow: none !important;
  transition: background 0.15s;
}
.category-edit-btn:hover,
.category-edit-btn:focus {
  background: #f3f3f3 !important;
}
.category-edit-btn svg {
  display: block;
}
.table-rounded-container{ 
  border: 1px solid #dee2e6;
  border-radius: 12px;
  overflow: hidden;
  background: linear-gradient(180deg, #f8f9fb 0%, #f3f4f7 100%);
  box-shadow: 0 2px 4px rgba(0,0,0,.10), 0 8px 18px rgba(0,0,0,.06);
  }
  /* Таблица внутри контейнера — прозрачная, без своей тени и отступа */
.table-rounded-container .table{
  background: transparent;
  box-shadow: none !important;
  margin-bottom: 0;
}

/* Ховер строк — лёгкая подсветка, чтобы читалось на новом фоне */
.table-rounded-container .table-hover tbody tr:hover{
  background-color: rgba(232,154,65,.06);
}
/* Тень под тёмной шапкой таблицы (через псевдо-элемент) */
.table-rounded-container thead.table-dark tr {
  position: sticky;
  top: 0;
  z-index: 3;                          /* контент шапки над тенью */
}

.table-rounded-container thead.table-dark tr::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1px;                        /* сливается с нижней границей шапки */
  height: 12px;                        /* высота «ореола» тени */
  pointer-events: none;                /* чтобы кликать по кнопкам в шапке */
  box-shadow: 0 10px 18px rgba(0,0,0,.18);
}

/* Инлайн-панель — мягкая анимация без max-height (как в локале) */
.inline-panel{
  display: none;                 /* скрыта, пока нет .open */
  background: #fff;
  border: 1px solid #e5e6ea;
  border-radius: 12px;
  padding: 12px;

  /* по умолчанию отступов нет — чтобы при закрытии не было рывка */
  margin: 0;

  overflow: hidden;
  opacity: 0;
  transform: translateY(-6px) scale(.995);

  /* мягкие кривые */
  transition:
    opacity   .42s ease,
    transform .42s cubic-bezier(.22,.61,.36,1),
    margin    .42s ease,
    box-shadow .42s ease;
  will-change: opacity, transform, margin;
  box-shadow: 0 4px 14px rgba(0,0,0,0.04);
}

.inline-panel.open{              /* видимая, но ещё «спрятанная» */
  display: block;
  margin: 0;                     /* сначала без отступов */
}

.inline-panel.open.show{         /* полностью показана */
  opacity: 1;
  transform: translateY(0) scale(1);
  margin: 10px 0 18px;           /* отступы проявляются ПЛАВНО */
  box-shadow: 0 10px 24px rgba(0,0,0,0.08);
}

/* Мягкое проявление содержимого */
.inline-panel .row{
  opacity: 0;
  transform: translateY(2px);
  transition: opacity .32s ease .10s, transform .36s ease .10s;
}
.inline-panel.open.show .row{
  opacity: 1;
  transform: translateY(0);
}

/* Чуть комфортнее высота контролов (не влияет на ширины) */
.inline-panel .form-control{ height: 40px; }
.inline-panel .btn{ height: 40px; line-height: 1.1; }

/* Уважение к reduce-motion */
@media (prefers-reduced-motion: reduce){
  .inline-panel{ transition: none !important; }
  .inline-panel .row{ transition: none !important; }
}

/* --- Цена: за единицу + итог --- */
.price-cell{ text-align: right; line-height: 1.18; }
.price-per-unit{ font-size: .95rem; color: var(--ak-black); opacity: .75; }
.price-total{
  display: inline-block;
  margin-top: 2px;
  padding: 2px 10px;
  border-radius: 999px;
  background: var(--ak-orange);
  color: var(--ak-white);
  font-weight: 600;
  font-size: .96rem;
}
@media (max-width: 768px){
  .price-cell{ text-align: left; }
}

/* Desktop default: скрыть мобильную карточку, показать старый вид */
.ios-card { display: none; }
.desktop-only { display: flex !important; align-items: center; gap: 12px; }

/* === MOBILE: шапка сверху, слева фото, справа инфо, "Итого" справа === */
@media (max-width: 768px){
  /* скрыть дубли на мобиле и подпись первой ячейки */
  .hide-mobile{ display:none !important; }
  .desktop-only{ display:none !important; }
  .table td.ios-cell::before{ display:none !important; }

  td.ios-cell{ position:relative; }
  .ios-card{ display:block; }

  /* верхняя строка: название + категория + ⋯ */
  .ios-head{ display:flex; align-items:center; gap:8px; margin-bottom:6px; }
  .ios-title{
    flex:0 1 auto; max-width:58%;
    font-weight:700; line-height:1.1;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    text-decoration:none;
  }
  .ios-cat{
    flex:0 1 auto; max-width:30%;
    font-size:.88rem; color:var(--ak-darkgray);
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  }

  /* тело: слева фото, справа строки */
  .ios-body{ display:flex; align-items:flex-start; gap: 17px;}
/* mobile only – крупнее миниатюра */
.ios-thumb{
  flex: 0 0 89px;
  width: 89px;
  height: 89px;
  border-radius: 16px;
  object-fit: cover;
  box-shadow: 0 1px 3px rgba(0,0,0,.12);
}
  .ios-info{ flex:1 1 auto; min-width:0; display:flex; flex-direction:column; gap:2px; }
  .ios-line{
    font-size:.95rem;
    line-height:1.25;
    white-space: normal;       /* было nowrap */
    overflow: visible;         /* было hidden  */
    text-overflow: clip;       /* было ellipsis */
    word-break: break-word;
   }
  .ios-per{ opacity:.75; white-space: normal; }

  /* "Итого" – вправо */
.ios-trailing{
  display:flex;
  align-items:center;
  gap:8px;
  margin-top:8px;
  margin-left:auto;              /* ПРИЖАЛИ ВПРАВО */
}
  .ios-chip{
    display:inline-block; padding:2px 10px; border-radius:999px;
    background:var(--ak-orange); color:var(--ak-white);
    font-weight:600; font-size:.92rem; white-space:nowrap;
  }
}

@media (max-width: 768px){
  .ios-ellipsis,
  .ios-menu { display: none !important; }
  .ios-trailing { margin-left: auto; } /* прижимаем чип вправо */
}


/* Прятать блок на мобиле (для десктопных кнопок внизу) */
@media (max-width: 768px){
  .hide-mobile { display: none !important; }
}

/* Мобайл: показываем блок под формами */
.mobile-only { display: none !important; }
@media (max-width: 768px){
  .mobile-only { display: block !important; }
}

/* Десктоп: держим кнопки в одну строку */
@media (min-width: 769px){
  .view-actions-desktop{
    display: flex;
    gap: 10px;
    align-items: center;
  }
  .view-actions-desktop .btn{ width: auto; white-space: nowrap; }
  .view-actions-desktop form{ margin: 0; }
}

/* === DESKTOP SAFETY OVERRIDE: фикс десктопа === */
@media (min-width: 769px){
  /* на десктопе показываем только «старый» вид */
  .ios-card,
  .mobile-only { display: none !important; }
  .desktop-only { display: flex !important; }

  /* возвращаем нативную табличную раскладку */
  .table              { display: table !important; width: 100% !important; }
  .table thead        { display: table-header-group !important; }
  .table tbody        { display: table-row-group !important; }
  .table tr           { display: table-row !important; }
  .table th, .table td{ display: table-cell !important; }
}

/* MOBILE – Variant H (glass) */
@media (max-width:768px){
  .product-view .view-details{ display:block!important; border:0; background:transparent; }
  .product-view .view-details tbody{ display:block!important; }
  .product-view .view-details tr{
    display:block!important;
    margin:12px 12px;
    padding:12px 14px;
    border-radius:16px;
    background: rgba(255,255,255,.66);
    border:1px solid rgba(255,255,255,.55);
    box-shadow: 0 8px 22px rgba(0,0,0,.10);
    -webkit-backdrop-filter: blur(8px) saturate(1.1);
    backdrop-filter: blur(8px) saturate(1.1);
  }
  .product-view .view-details th,
  .product-view .view-details td{ display:block!important; border:0; background:transparent; padding:0; }
  .product-view .view-details th{ font-size:.9rem; font-weight:700; color:#6f6f6f; margin-bottom:4px; }
  .product-view .view-details td{ font-size:1.05rem; color:#1f1f1f; }
}

/* === MOBILE fix для view.html (product-view) — выравниваем карточки === */
@media (max-width:768px){
  /* вернём боковые паддинги именно ЭТОМУ контейнеру */
  .product-view.container{
    padding-left: 14px;
    padding-right: 14px;
  }

  /* уберём отрицательные маргины у bootstrap-rows */
  .product-view .row{
    margin-left: 0 !important;
    margin-right: 0 !important;
    --bs-gutter-x: 0.75rem;
  }

  /* обнулим внутренние паддинги у колонок, чтобы всё ровно сходилось */
  .product-view .col-md-4,
  .product-view .col-md-8{
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* карточки-«стекло»: горизонтальные отступы даёт контейнер */
  .product-view .view-details{ width:100%; }
  .product-view .view-details tr{
    margin: 12px 0;        /* было 12px 12px — из-за этого могло «уезжать» вправо */
    max-width: 100%;
  }
  .product-view .view-details tr:last-child{ margin-bottom: 18px; }
}

/* (опционально, если где-то всё ещё появится горизонтальный скролл) */
html, body { overflow-x: hidden; }

/* === MOBILE: мягкие углы на странице товара (view.html) === */
@media (max-width:768px){
  /* скругляем внешний белый контейнер этой страницы */
  .product-view.container{
    border-radius: 20px;       /* можно 18–22 по вкусу */
    overflow: hidden;          /* чтобы тени/фон не «выпирали» за радиус */
  }

  /* чуть мягче «Назад» (если хочешь): */
  .product-view .btn-back{
    border-radius: 18px !important;
  }

  /* у фото/карусели тоже делаем такой же радиус, чтобы всё совпадало по форме */
  .product-view .carousel,
  .product-view .carousel-inner,
  .product-view .carousel-item,
  .product-view .carousel-item img,
  .product-view img.img-fluid{
    border-radius: 16px !important;
    overflow: hidden;
  }
}

/* MOBILE: вся карточка кликабельна */
@media (max-width: 768px){
  .js-card{
    cursor: pointer;
    -webkit-tap-highlight-color: transparent; /* убрать серый фокус на iOS */
    position: relative;   /* на всякий случай для :active эффекта */
    transition: transform .08s ease, box-shadow .12s ease;
  }
  .js-card:active{
    transform: translateY(1px);
    box-shadow: 0 6px 16px rgba(0,0,0,.12);
  }
}
/* DESKTOP – Glass для таблицы деталей товара */
@media (min-width: 992px){
  .product-view .view-details{
    /* делаем «стекло» контейнером самой таблицы */
    border: 0 !important;
    border-collapse: separate;   /* чтобы работал border-radius */
    border-spacing: 0;
    background: rgba(255,255,255,.66);
    -webkit-backdrop-filter: blur(8px) saturate(1.1);
    backdrop-filter: blur(8px) saturate(1.1);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 24px rgba(0,0,0,.10);
  }

  /* убираем чёрные головы и бордеры у ячеек */
  .product-view .view-details th,
  .product-view .view-details td{
    background: transparent !important;
    border: 0 !important;
    padding: 12px 16px;
  }

  /* левый столбец – подпись (как на мобиле) */
  .product-view .view-details th{
    color: #6f6f6f;
    font-weight: 700;
    width: 42%;
    white-space: nowrap;
  }

  /* правый столбец – значение */
  .product-view .view-details td{
    color: #1f1f1f;
  }

  /* деликатные разделители между строками */
  .product-view .view-details tr + tr th,
  .product-view .view-details tr + tr td{
    border-top: 1px solid rgba(0,0,0,.06) !important;
  }
}

/* Edit → галерея: маленький чип "Главное" (компактный и аккуратный) */
.edit-gallery .badge.bg-primary{
  display: inline-block;
  width: auto;
  line-height: 1;                 /* убираем лишнюю высоту */
  padding: 2px 7px;               /* компактнее */
  font-size: .72rem;              /* чуть меньше */
  font-weight: 600;
  letter-spacing: .02em;
  border-radius: 999px;

  /* фирменный «чип»: светлый, с тонкой рамкой */
background: rgba(232,154,65,.14) !important; /* var(--ak-orange) с прозрачностью */
color: var(--ak-orange) !important;
border: 1px solid rgba(232,154,65,.45);

  /* лёгкий объём */
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);

  /* красиво встаёт над кнопками */
  vertical-align: middle;
  margin-bottom: 6px;
}

/* На мобильном — ещё чуточку меньше */
@media (max-width: 768px){
  .edit-gallery .badge.bg-primary{
    font-size: .68rem;
    padding: 2px 6px;
    margin-bottom: 5px;
  }
}

/* hover-превью для десктопа */
@media (min-width: 992px){
  .hover-preview{
    position: fixed;
    left: 0; top: 0;
    width: 320px; height: 200px;     /* было 280x180 */
    object-fit: cover;
    border-radius: 12px;
    background: #fff;
    box-shadow: 0 10px 28px rgba(0,0,0,.22);
    border: 1px solid rgba(0,0,0,.08); /* мягкая рамка */
    opacity: 0;
    transform: translate(8px,8px) scale(.98);
    transition: opacity .12s ease, transform .12s ease;
    pointer-events: none;
    z-index: 1000;
  }
  .hover-preview.show{
    opacity: 1;
    transform: translate(0,0) scale(1);
  }
}

/* Reset: вариант A — чип-кнопка */
.reset-chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 12px;
  border-radius:999px;
  background:#fff;
  color: var(--ak-black);
  border:1px solid rgba(0,0,0,.15);
  text-decoration:none;
  font-weight:600;
  box-shadow: 0 1px 4px rgba(0,0,0,.05);
  transition: background .18s, color .18s, border-color .18s, box-shadow .18s;
    justify-content: center;  /* центр по горизонтали */
  text-align: center;       /* на случай переноса текста */
  min-height: 42px;         /* стабильная высота чипа */
  line-height: 1.2;         /* аккуратная межстрочка */
  padding: 10px 16px;       /* комфортный тач-таргет */
}
.reset-chip:hover,
.reset-chip:focus{
  background: var(--ak-orange);
  color:#fff;
  border-color: var(--ak-orange);
  box-shadow: 0 4px 12px rgba(232,154,65,.28);
}
.reset-chip:active{ transform: translateY(1px); }

/* Excel button: зелёный X в оранжевом outline */
.btn-excel .icon-left,
.btn-excel .icon-left *{
  stroke: #1f7244 !important;          /* Excel green */
}

.btn-excel .icon-left rect{
  fill: rgba(31,114,68,.08);           /* лёгкая зелёная подложка на «крышке» */
  stroke-width: 1.6;
}

.btn-excel .icon-left path{
  stroke-width: 2.4;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Сохраняем зелёный цвет иконки при hover/focus */
.btn-excel:hover .icon-left *,
.btn-excel:focus .icon-left *,
.btn-excel:active .icon-left *{
  stroke: #1f7244 !important;
}

.filters-inline { gap: 6px; }
@media (min-width: 992px){
  .filters-inline .reset-chip{ white-space: nowrap; }  /* не ломать слово на десктопе */
}
@media (max-width: 768px){
  .filters-inline .reset-chip{ padding: 6px 10px; font-size: .98rem; }
}
/* Отступ сверху для строки "тумблер + сброс", если она под полями */
.filters-inline{ margin-top: 14px; }            /* мобильный/планшет */
@media (min-width: 1200px){                     /* desktop-xl и шире */
  .filters-inline{ margin-top: 0; }             /* в одну линию — без отступа */
}
/* если текст в чипе внезапно перенёсся — держим вертикальный ритм */
.reset-chip > *{ line-height: 1.2; }

.filters-card{
  background: #f8f9fb;
  border: 1px solid #e6e8ee;
  border-radius: 12px;
  padding: 12px 12px 6px;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
}
@media (max-width: 768px){
  .filters-card{ background: transparent; border: 0; box-shadow: none; padding: 0; }
}

/* === Фильтры: единая высота и ровные отступы ============================ */
.filters-row .form-control,
.filters-row .form-select{
  height: 44px;                 /* одинаковая высота инпутов/селектов */
  padding: 8px 12px;
}

.filters-row .btn,
.filters-row .reset-chip{
  height: 44px;                 /* и кнопки такой же высоты */
  display: inline-flex;
  align-items: center;
  padding: 0 16px;
}

/* Доп. «воздух» между полем Nimi… и строкой тумблер+чип на средних ширинах */
@media (min-width: 992px) and (max-width: 1280px){
  .switch-row{ margin-top: 16px; }
}

/* === Активный чип «Сбросить фильтр» ====================================== */
.reset-chip--active{
  background: var(--ak-orange);
  color: #fff;
  border-color: var(--ak-orange);
  box-shadow: 0 4px 12px rgba(232,154,65,.28);
}
.reset-chip--active:hover,
.reset-chip--active:focus{
  background: #ffb35c;
  border-color: #ffb35c;
}

/* === Серые маленькие кнопки в таблице (Muokkaa / Poista) ================= */
.btn-warning.btn-sm{
  background: #6b6b6b !important;   /* контрастнее и читаемее */
  color: #fff !important;
  border: none !important;
  padding: 6px 10px !important;
}
.btn-warning.btn-sm:hover,
.btn-warning.btn-sm:focus{
  background: #5c5c5c !important;
}

.btn-danger.btn-sm{
  background: #cb4642 !important;   /* твой фирменный красный */
  color: #fff !important;
  border: none !important;
  padding: 6px 10px !important;
}
.btn-danger.btn-sm:hover,
.btn-danger.btn-sm:focus{
  background: #b43c38 !important;
}

/* === Фокус-стили (клавиатура/a11y) ======================================= */
.form-control:focus,
.form-select:focus{
  border-color: var(--ak-orange) !important;
  box-shadow: 0 0 0 3px rgba(232,154,65,.18) !important;
}

.btn:focus-visible,
.reset-chip:focus-visible,
a.btn:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(232,154,65,.35) !important;
}